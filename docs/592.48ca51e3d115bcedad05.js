(self.webpackChunk_lamnhan_nguix_dashboard=self.webpackChunk_lamnhan_nguix_dashboard||[]).push([[592],{7515:(n,t,e)=>{"use strict";e.d(t,{G:()=>l});var o=e(5366),i=e(1041),r=e(404),s=e(1116);function g(n,t){if(1&n&&(o.TgZ(0,"div",4),o._UZ(1,"div",5),o.qZA()),2&n){const n=o.oxw(2);o.xp6(1),o.Q6J("innerHtml",n.message,o.oJD)}}function a(n,t){if(1&n){const n=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"form",7,8),o.NdJ("ngSubmit",function(){return o.CHM(n),o.oxw(2).signIn()}),o.TgZ(3,"label",9),o.TgZ(4,"span",10),o._uU(5,"Email:"),o.qZA(),o._UZ(6,"input",11),o.qZA(),o.TgZ(7,"label",9),o.TgZ(8,"span",10),o._uU(9,"Password:"),o.qZA(),o._UZ(10,"input",12),o.qZA(),o.TgZ(11,"div",13),o.TgZ(12,"button",14),o._uU(13,"Login"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",15),o.TgZ(15,"a",16),o.NdJ("click",function(){return o.CHM(n),o.oxw(2).goRegister.emit(),!1}),o._uU(16,"Register?"),o.qZA(),o.qZA(),o.qZA()}if(2&n){const n=o.MAs(2),t=o.oxw(2);o.xp6(1),o.Q6J("formGroup",t.loginFormGroup),o.xp6(11),o.Q6J("disabled",!n.form.valid||t.lockdown)}}function c(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,g,2,1,"div",2),o.YNc(2,a,17,2,"div",3),o.qZA()),2&n){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",n.message),o.xp6(1),o.Q6J("ngIf",n.authService.methodAllowedForEmailPassword)}}let l=(()=>{class n{constructor(n,t){this.authService=n,this.formBuilder=t,this.goRegister=new o.vpe,this.signedIn=new o.vpe,this.error=new o.vpe,this.lockdown=!1,this.loginFormGroup=this.formBuilder.group({email:new i.NI("admin@lamnhan.com",[i.kI.required,i.kI.email]),password:new i.NI("1234567890",[i.kI.required,i.kI.minLength(7)])})}ngOnInit(){}signIn(){var n,t;if(this.authService&&!this.authService.authenticated&&!this.lockdown){this.beforeSignin();const e=null===(n=this.loginFormGroup.get("email"))||void 0===n?void 0:n.value,o=null===(t=this.loginFormGroup.get("password"))||void 0===t?void 0:t.value;this.authService.signInWithEmailAndPassword(e,o).subscribe(n=>this.onSignedIn(n),n=>this.onError(n))}}beforeSignin(){this.lockdown=!0,this.message=void 0}onSignedIn(n){this.lockdown=!1,this.signedIn.emit(n)}onError(n){const{code:t,message:e,email:o}=n;this.authService&&"auth/account-exists-with-different-credential"===t?this.authService.handleAccountExistsWithDifferentCredential(o).subscribe(()=>this.message=e):this.message=e,this.lockdown=!1,this.error.emit(n)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(r.e8),o.Y36(i.qu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],outputs:{goRegister:"goRegister",signedIn:"signedIn",error:"error"},decls:1,vars:1,consts:[["class","app-login",4,"ngIf"],[1,"app-login"],["class","message margin-bottom",4,"ngIf"],["class","form",4,"ngIf"],[1,"message","margin-bottom"],[1,"alert-danger",3,"innerHtml"],[1,"form"],[3,"formGroup","ngSubmit"],["loginForm","ngForm"],[1,"group","margin-bottom"],[1,"form-label"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],[1,"action"],["type","submit",1,"button-primary",3,"disabled"],[1,"foot"],["href","/register",1,"button-link",3,"click"]],template:function(n,t){1&n&&o.YNc(0,c,3,2,"div",0),2&n&&o.Q6J("ngIf",t.authService)},directives:[s.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u],styles:[".app-login[_ngcontent-%COMP%]{width:100%}.app-login[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.app-login[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%], .app-login[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.app-login[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.app-login[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.app-login[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}"]}),n})()},6124:(n,t,e)=>{"use strict";e.d(t,{P:()=>g});var o=e(1116),i=e(1041),r=e(9939),s=e(5366);let g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[o.ez,i.UX,r.y4]]}),n})()}}]);