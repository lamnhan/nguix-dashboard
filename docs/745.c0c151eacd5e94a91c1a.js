"use strict";(self.webpackChunk_lamnhan_nguix_dashboard=self.webpackChunk_lamnhan_nguix_dashboard||[]).push([[745],{8745:(U,m,g)=>{g.r(m),g.d(m,{RegisterPageModule:()=>O});var l=g(8583),d=g(8394),r=g(3679),e=g(7716);let h=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,r.UX,d.y4]]}),t})();var u=g(4419),f=g(3342),_=g(5257),p=g(8848);function C(t,s){if(1&t&&(e.TgZ(0,"div",14),e._UZ(1,"div",15),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("innerHtml",n.message,e.oJD)}}let v=(()=>{class t{constructor(n,o){this.authService=n,this.formBuilder=o,this.goLogin=new e.vpe,this.signedUp=new e.vpe,this.error=new e.vpe,this.lockdown=!1,this.registerFormGroup=this.formBuilder.group({email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required,r.kI.minLength(7)]),passwordConfirm:new r.NI("",[r.kI.required])},{validators:i=>{var a,c;return(null===(a=i.get("password"))||void 0===a?void 0:a.value)!==(null===(c=i.get("passwordConfirm"))||void 0===c?void 0:c.value)?{invalidPasswordConfirm:!0}:null}})}ngOnInit(){}signUp(){var n,o;if(this.authService&&!this.authService.authenticated&&!this.lockdown){this.beforeSignup();const i=null===(n=this.registerFormGroup.get("email"))||void 0===n?void 0:n.value,a=null===(o=this.registerFormGroup.get("password"))||void 0===o?void 0:o.value;this.authService.createUserWithEmailAndPassword(i,a).subscribe(()=>this.onSignedUp(),c=>this.onError(c))}}beforeSignup(){this.lockdown=!0,this.message=void 0}onSignedUp(){this.lockdown=!1,this.signedUp.emit()}onError(n){var o,i;null===(o=this.registerFormGroup.get("password"))||void 0===o||o.setValue(""),null===(i=this.registerFormGroup.get("passwordConfirm"))||void 0===i||i.setValue("");const{message:a}=n;this.message=a,this.lockdown=!1,this.error.emit(n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.e8),e.Y36(r.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],outputs:{goLogin:"goLogin",signedUp:"signedUp",error:"error"},decls:23,vars:3,consts:[[1,"app-register"],["class","message margin-bottom",4,"ngIf"],[1,"form"],[3,"formGroup","ngSubmit"],["registerForm","ngForm"],[1,"group","margin-bottom"],[1,"form-label"],["type","email","formControlName","email","placeholder","Email ...",1,"form-control"],["type","password","formControlName","password","placeholder","Password ...",1,"form-control"],["type","password","formControlName","passwordConfirm","placeholder","Confirm password ...",1,"form-control"],[1,"action"],["type","submit",1,"button-primary",3,"disabled"],[1,"foot"],["href","/login",1,"button-link",3,"click"],[1,"message","margin-bottom"],[1,"alert-danger",3,"innerHtml"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,C,2,1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3,4),e.NdJ("ngSubmit",function(){return o.signUp()}),e.TgZ(5,"label",5),e.TgZ(6,"span",6),e._uU(7,"Email"),e.qZA(),e._UZ(8,"input",7),e.qZA(),e.TgZ(9,"label",5),e.TgZ(10,"span",6),e._uU(11,"Password"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"label",5),e.TgZ(14,"span",6),e._uU(15,"Confirm"),e.qZA(),e._UZ(16,"input",9),e.qZA(),e.TgZ(17,"div",10),e.TgZ(18,"button",11),e._uU(19,"Register"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",12),e.TgZ(21,"a",13),e.NdJ("click",function(){return o.goLogin.emit(),!1}),e._uU(22,"Login?"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const i=e.MAs(4);e.xp6(1),e.Q6J("ngIf",o.message),e.xp6(2),e.Q6J("formGroup",o.registerFormGroup),e.xp6(15),e.Q6J("disabled",!i.form.valid||o.lockdown)}},directives:[l.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u],styles:[".app-register[_ngcontent-%COMP%]{width:100%}.app-register[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.app-register[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{width:100%}.app-register[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.app-register[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.app-register[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.app-register[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}"]}),t})();function Z(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"section",5),e.TgZ(1,"app-register",6),e.NdJ("signedUp",function(){return e.CHM(n),e.oxw(2).nav.navigate([""])})("goLogin",function(){return e.CHM(n),e.oxw(2).nav.navigate(["login"])}),e.qZA(),e.qZA()}}function M(t,s){if(1&t&&(e.TgZ(0,"div",2),e.TgZ(1,"section",3),e.TgZ(2,"h3"),e._uU(3,"Register"),e.qZA(),e.qZA(),e.YNc(4,Z,2,0,"section",4),e.qZA()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.authChecked)}}function w(t,s){1&t&&(e.TgZ(0,"div",7),e._uU(1,"Loading ..."),e.qZA())}const P=[{path:"",component:(()=>{class t{constructor(n,o,i,a){this.metaService=n,this.settingService=o,this.nav=i,this.auth=a,this.page$=this.settingService.onLocaleChanged.pipe((0,f.b)(c=>this.metaService.changePageMetas({title:"Register",description:"Register new account"},!0))),this.authChecked=!1}ngOnInit(){this.auth.onAuthStateChanged.pipe((0,_.q)(1)).subscribe(n=>{n?this.onSignedIn():this.authChecked=!0})}onSignedIn(){const n=this.auth.redirectUrl?this.auth.redirectUrl:"";this.auth.setRedirectUrl(),this.nav.navigate([n])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.Rj),e.Y36(p.RC),e.Y36(p.tZ),e.Y36(p.e8))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register-page"]],decls:4,vars:4,consts:[["class","host",4,"ngIf","ngIfElse"],["loading",""],[1,"host"],[1,"title"],["class","main",4,"ngIf"],[1,"main"],[3,"signedUp","goLogin"],[1,"loading"]],template:function(n,o){if(1&n&&(e.YNc(0,M,5,1,"div",0),e.ALo(1,"async"),e.YNc(2,w,2,0,"ng-template",null,1,e.W1O)),2&n){const i=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,o.page$))("ngIfElse",i)}},directives:[l.O5,v],pipes:[l.Ov],styles:[".host[_ngcontent-%COMP%]{width:100%;max-width:320px;margin:auto;padding:1rem}.host[_ngcontent-%COMP%]   section.title[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.loading[_ngcontent-%COMP%]{padding:2rem;display:flex;justify-content:center}"]}),t})()}];let R=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(P)],u.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,d.y4,h,R]]}),t})()}}]);