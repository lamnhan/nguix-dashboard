<div class="host" *ngIf="items$ | async; let items">

  <ng-container *ngIf="items.length; else noItems">

    <div class="header" *ngIf="part">
      <div class="left">
        <strong>
          <i class="icon-medium-tint" [class]="part.menuItem.icon"></i>
          <span>Linking</span>
        </strong>
      </div>
      <div class="right">
        <a *ngIf="!isEdit" href="javascript:void(0)" (click)="isEdit=true">Edit</a>
        <a *ngIf="isEdit" href="javascript:void(0)" (click)="isEdit=false">Exit</a>
      </div>
    </div>
  
    <ng-container *ngIf="isEdit; else viewMode">
  
      <div class="edit">
  
        <div class="filter">
          <input class="form-control" type="search" [(ngModel)]="query" placeholder="Filter items ...">
        </div>
  
        <ul class="items">
          <li *ngFor="let item of items">
            <input
              type="checkbox"
              [value]="item.id"
              (change)="toggleItem(item, $event)"
              [checked]="currentData && currentData[item.id]"
            >
            <a href="#">{{ item.title }}</a>
          </li>
        </ul>
  
        <div class="paginator"></div>
  
      </div>
  
      <div class="actions">
        <div class="left">
          <a class="button-outline-dark-sm" href="javascript:void(0)" (click)="isEdit=false">Cancel</a>
        </div>
        <a class="button-primary-sm" href="javascript:void(0)" (click)="submit()">Save</a>
      </div>
  
    </ng-container>
  
    <ng-template #viewMode>
  
      <div class="view-none" *ngIf="!currentData; else hasData">
        No items, click Edit to add.
      </div>
  
      <ng-template #hasData>
  
        <ul class="view-list">
          <li *ngFor="let item of currentData | o2a">
            <a href="#">{{ item.title }}</a>
          </li>
        </ul>
  
      </ng-template>
  
    </ng-template>

  </ng-container>

  <ng-template #noItems>
    <div class="view-none">
      No linking items available.
    </div>
  </ng-template>

</div>