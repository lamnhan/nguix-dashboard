<div class="host">

  <div class="headbar">
    <i class="icon-medium-tint" [class]="type==='record'?'dashboard-record':'dashboard-array'"></i>
    <ng-container *ngIf="mode!=='edit'">
      <a
        href="javascript:void(0)"
        (click)="mode=mode==='table'?'raw':'table'"
      >{{ mode === 'table' ? 'Raw' : 'Table' }}</a>
      <a href="javascript:void(0)" (click)="mode='edit'">Edit</a>
    </ng-container>
  </div>

  <ng-container *ngIf="mode==='edit'; else viewMode">

    <table class="table-bordered">
      <thead>
        <tr>
          <th></th>
          <th *ngFor="let item of items">{{ item.name }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataMatrix">
          <td><button>Remove</button></td>
          <td>...</td>
        </tr>
        <tr>
          <td colspan="42"><button>Add</button></td>
        </tr>
      </tbody>
    </table>

    <div class="actions">
      <button>Cancel</button>
      <button>Save</button>
    </div>

  </ng-container>

  <ng-template #viewMode>

    <div *ngIf="!currentData; else hasData">
      No data ...
    </div>

    <ng-template #hasData>

      <table class="table-bordered" *ngIf="mode==='table'">
        <thead>
          <tr>
            <th *ngFor="let item of items">{{ item.name }}</th>
          </tr>
        </thead>
      </table>
    
      <div *ngIf="mode==='raw'">
        <pre><code>Raw Code ...</code></pre>
      </div>

    </ng-template>

  </ng-template>

</div>