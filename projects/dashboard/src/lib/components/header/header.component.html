<ng-container *transloco="let t">
<header class="host dashboard">

  <div class="toggler">
    <button class="icon icon-dashboard-menu" (click)="navService.toggleMenu()"></button>
  </div>

  <ul class="vendor dashboard-dropmenu">
    <li>
      <a href="#" (click)="false"><i class="icon icon-dashboard-mola"></i></a>
      <ul class="submenu" aria-label="submenu">
        <li><a [usefulRouterLink]="['admin', 'about']">About Mola</a></li>
        <li><a href="https://mola.lamnhan.com" target="_blank">Mola Home</a></li>
        <li><a href="https://mola.lamnhan.com/docs" target="_blank">Documentation</a></li>
        <li><a href="mailto:mola@lamnhan.com">Support</a></li>
        <li><a href="mailto:mola@lamnhan.com">Feedback</a></li>
      </ul>
    </li>
  </ul>

  <ul class="app dashboard-dropmenu">
    <li>
      <a href="#" (click)="false"><i class="icon icon-dashboard-home"></i><span>My App</span></a>
      <ul class="submenu" aria-label="submenu">
        <li><a href="#" (click)="exitDashboard(); false">Visit App</a></li>
      </ul>
    </li>
  </ul>

  <nav class="nav">

    <div class="secondary" [class.visible]="navService.menuVisible">
      <div class="container">

        <ul class="body dashboard-menu">

          <li class="home">
            <a
              (click)="navService.toggleMenu()"
              [usefulRouterLink]="['admin']"
              usefulRouterLinkActive="active"
              [usefulRouterLinkActiveOptions]="{exact: true, also: ['admin/about']}"
              [usefulRouterBackwardable]="false"
            >
              <i class="icon icon-dashboard-dashboard"></i>
              <span>Dashboard</span>
            </a>
            <ul class="submenu">
              <li>
                <a
                  (click)="navService.toggleMenu()"
                  [usefulRouterLink]="['admin']"
                  usefulRouterLinkActive="active"
                  [usefulRouterLinkActiveOptions]="{exact: true}"
                  [usefulRouterBackwardable]="false"
                >Home</a>
              </li>
              <li>
                <a
                  (click)="navService.toggleMenu()"
                  [usefulRouterLink]="['admin', 'about']"
                  usefulRouterLinkActive="active"
                  [usefulRouterBackwardable]="false"
                >About</a>
              </li>
            </ul>
          </li>

          <li [class]="menuItem.name" *ngFor="let menuItem of menuItems">
            <a
              (click)="navService.toggleMenu()"
              [usefulRouterLink]="menuItem.routerLink"
              usefulRouterLinkActive="active"
              [usefulRouterLinkActiveOptions]="{also: menuItem.activeAlso || []}"
              [usefulRouterBackwardable]="false"
            >
              <i class="icon" [class]="menuItem.icon"></i>
              <span>{{ t(menuItem.text || '') || menuItem.text }}</span>
            </a>
            <ul class="submenu">
              <li *ngFor="let subItem of menuItem.subItems">
                <a
                  (click)="navService.toggleMenu()"
                  [usefulRouterLink]="subItem.routerLink"
                  usefulRouterLinkActive="active"
                  [usefulRouterBackwardable]="false"
                >{{ subItem.text }}</a>
              </li>
            </ul>
          </li>

        </ul>

      </div>

      <div class="backdrop" (click)="navService.toggleMenu()"></div>
    </div>

  </nav>

  <ul class="user dashboard-dropmenu" *ngIf="userService.currentUser">
    <li>
      <a href="#" (click)="false">
        <span>Howdy, {{ userService.data?.displayName || 'User' }}</span>
        <img [src]="userService.data?.photoURL || 'https://www.gravatar.com/avatar/none?d=mp'"/>
      </a>
      <ul class="submenu" aria-label="submenu">
        <li><a [usefulRouterLink]="[userService.data?.username || 'account']">{{ userService.data?.displayName || 'User' }}</a></li>
        <li><a [usefulRouterLink]="['account']">Edit Profile</a></li>
        <li><a href="#" (click)="logOut(); false">Log Out</a></li>
      </ul>
    </li>
  </ul>
  
</header>
</ng-container>