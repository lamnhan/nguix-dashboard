<ng-container *transloco="let t">
<header class="host">

  <div class="toggler">
    <button class="icon" [class]="navService.getMenuIcon()" (click)="navService.menuAction()"></button>
  </div>

  <div class="brand">
    <em><img src="/assets/images/logo.svg" alt="Dashboard"></em>
    <strong class="font-head">Dashboard</strong>
  </div>

  <nav class="nav">

    <div class="secondary" [class.visible]="navService.menuVisible">
      <div class="container">
        <div class="head">
          <div class="toggler">
            <button class="icon icon-menu" (click)="navService.toggleMenu()"></button>
          </div>
          <div class="brand" (click)="exitDashboard(); navService.toggleMenu()">
            <em><img src="/assets/images/logo.svg" alt="App"></em>
            <strong class="font-head">App</strong>
          </div>
        </div>

        <div class="body">

          <ul class="list menu">
            <li class="item" *ngFor="let menuItem of menuItems" [class]="menuItem.name">
              <a
                (click)="navService.toggleMenu()"
                [usefulRouterLink]="menuItem.routerLink"
                usefulRouterLinkActive="active"
                [usefulRouterLinkActiveOptions]="{exact: true}"
                [usefulRouterBackwardable]="false"
              >
                <i class="icon" [class]="menuItem.icon"></i>
                <span>{{ menuItem.text }}</span>
              </a>
            </li>
          </ul>

        </div>

        <div class="foot">
          <div class="action">
            <button class="button-primary" (click)="exitDashboard()">Exit dashboard</button>
          </div>
        </div>

      </div>

      <div class="backdrop" (click)="navService.toggleMenu()"></div>
    </div>

  </nav>

  <div class="user">
    <a
      class="avatar"
      [usefulRouterLink]="!userService.currentUser ? ['login'] : !userService.username ? ['account'] : [userService.username]"
      [usefulRouterBackwardable]="!userService.currentUser"
    >
      <img [src]="userService.data?.photoURL || 'https://www.gravatar.com/avatar/none?d=mp'"/>
    </a>
  </div>
  
</header>
</ng-container>