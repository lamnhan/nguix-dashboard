<div class="host dashboard" [class.show]="show">

  <div class="head">
    <div class="left">
      <ul class="tabs">
        <li>
          <a href="javascript:void(0)" [class.active]="tab==='upload'" (click)="tab='upload'">
            <!-- <i class="icon-dark icon-dashboard-home"></i> -->
            <span>Upload</span>
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" [class.active]="tab==='image'" (click)="tab='image'">
            <!-- <i class="icon-dark icon-dashboard-home"></i> -->
            <span>Image</span>
          </a>
        </li>
      </ul>
    </div>
    <div class="right">
      <a href="javascript:void(0)" (click)="closeAndReset()">X</a>
    </div>
  </div>

  <div class="body">

    <div class="upload" *ngIf="tab==='upload'">
      <ng-container *ngIf="uploading; else uploadInput">
        <div class="name">Name: {{ uploading.name }}</div>
        <div class="size">Size: {{ uploading.size }}</div>
        <ng-container *ngIf="result; else statusShow">
          <div class="path">Path: <a href="#">{{ result.fullPath }}</a></div>
          <div class="url">URL: <a [href]="result.downloadUrl$ | async" target="_blank">Open link</a></div>
        </ng-container>
        <ng-template #statusShow>
          <div class="status">
            <progress [value]="uploading.uploadPercent$ | async" max="100"></progress>
          </div>
        </ng-template>
      </ng-container>
      <ng-template #uploadInput>
        <input type="file" (change)="uploadFile($event)">
      </ng-template>
    </div>

    <div class="image" *ngIf="tab==='image'">
      <div id="tui-image-editor"></div>
    </div>

  </div>

  <div class="foot">
    <div class="left">
      <!-- <a class="button-outline-dark" href="javascript:void(0)" (click)="closeAndReset()">Cancel</a> -->
      <label class="option">
        <input type="checkbox" [(ngModel)]="closeOnCompleted">
        <span>Close on completed</span>
      </label>
    </div>
    <div class="right">
      <button class="button-success" (click)="closeAndReset()">OK</button>
    </div>
  </div>

</div>